{% extends "tracker_project/tracker_project_base.html" %}

{% load staticfiles %}

{% block tracker_title %} - Areas of Interest{% endblock %}

{% block tracker_project_content %}
<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Areas of Interest</h3></div>
        <div class="panel-body">
            <a class="btn btn-default btn-xs pull-right" href="{% url 'tracker:area-of-interest-create' %}" role="button"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;Add Area of Interest</a>
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Severity</th>
                        <th>Centroid</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                {% for area_of_interest in object_list %}
                    <tr>
                        <td><a href="{% url 'tracker:area-of-interest-detail' pk=area_of_interest.pk %}">{{ area_of_interest.name }}</a></td>
                        <td><span class="label {% if area_of_interest.severity == 'UR' %}label-danger{% elif area_of_interest.severity == 'IN' %}label-info{% else %}label-default{% endif %}">{{ area_of_interest.get_severity_display }}</span></td>
                        <td><a class="area-of-interest-centroid" href="#">Longitude: {{ area_of_interest.polygon.centroid.y|floatformat:4 }}, Latitude: {{ area_of_interest.polygon.centroid.x|floatformat:4 }}</a></td>
                        <td>
                            <a href="{% url 'tracker:area-of-interest-detail' pk=area_of_interest.pk %}"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
                            <a href="{% url 'tracker:area-of-interest-update' pk=area_of_interest.pk %}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                            <a href="{% url 'tracker:area-of-interest-delete' pk=area_of_interest.pk %}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="3">No areas of interest defined.</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}